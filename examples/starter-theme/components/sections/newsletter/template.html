<section class="newsletter-section"
         style="background-color: {{ settings.background_color }}">
  <div class="newsletter-container">
    {% if settings.heading %}
      <h2 class="newsletter-heading" style="color: {{ settings.text_color }}">
        {{ settings.heading }}
      </h2>
    {% endif %}

    {% if settings.description %}
      <p class="newsletter-description" style="color: {{ settings.text_color }}">
        {{ settings.description }}
      </p>
    {% endif %}

    <form class="newsletter-form" action="/newsletter/subscribe" method="post">
      {% csrf_token %}
      <div class="form-group">
        <input type="email"
               name="email"
               placeholder="{{ settings.placeholder }}"
               required
               aria-label="Email address">
        <button type="submit" class="button button--cta">
          {{ settings.button_text }}
        </button>
      </div>

      <!-- Success Message -->
      <div class="newsletter-message newsletter-message--success form-message form-message--success" role="alert" hidden>
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="20 6 9 17 4 12"/>
        </svg>
        <span>Thank you for subscribing!</span>
      </div>

      <!-- Error Message -->
      <div class="newsletter-message newsletter-message--error form-message form-message--error" role="alert" hidden>
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="10"/>
          <line x1="12" y1="8" x2="12" y2="12"/>
          <line x1="12" y1="16" x2="12.01" y2="16"/>
        </svg>
        <span>Please enter a valid email address.</span>
      </div>
    </form>

    {% if settings.privacy_text %}
      <p class="privacy-notice" style="color: {{ settings.text_color }}">
        {{ settings.privacy_text }}
      </p>
    {% endif %}
  </div>
</section>
