{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Theme Package Manifest Schema",
  "description": "Schema for Spwig theme package manifests with bundled components",
  "type": "object",
  "required": [
    "name",
    "version",
    "display_name",
    "description",
    "author"
  ],
  "properties": {
    "name": {
      "type": "string",
      "pattern": "^[a-z][a-z0-9-]*$",
      "minLength": 2,
      "maxLength": 50,
      "description": "Theme identifier (lowercase, alphanumeric with hyphens)"
    },
    "version": {
      "type": "string",
      "pattern": "^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)$",
      "description": "Semantic version (e.g., 1.0.0)"
    },
    "display_name": {
      "type": "string",
      "minLength": 1,
      "maxLength": 100,
      "description": "Human-readable theme name"
    },
    "description": {
      "type": "string",
      "minLength": 10,
      "maxLength": 1000,
      "description": "Theme description for marketplace listing"
    },
    "author": {
      "type": "string",
      "minLength": 1,
      "maxLength": 100,
      "description": "Theme author/vendor name"
    },
    "license": {
      "type": "string",
      "enum": ["MIT", "Apache-2.0", "GPL-3.0", "Proprietary"],
      "default": "Proprietary",
      "description": "Theme license type"
    },
    "bundled_components": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["type", "name", "path"],
        "properties": {
          "type": {
            "type": "string",
            "enum": ["header", "footer", "section", "utility"],
            "description": "Component type"
          },
          "name": {
            "type": "string",
            "pattern": "^[a-z][a-z0-9_-]*$",
            "description": "Component name"
          },
          "path": {
            "type": "string",
            "pattern": "^components/",
            "description": "Relative path to component directory"
          }
        }
      },
      "description": "List of components bundled with this theme"
    },
    "page_schemas": {
      "type": "object",
      "properties": {
        "home": {
          "type": "string",
          "description": "Path to home page schema"
        },
        "product": {
          "type": "string",
          "description": "Path to product page schema"
        },
        "collection": {
          "type": "string",
          "description": "Path to collection page schema"
        },
        "cart": {
          "type": "string",
          "description": "Path to cart page schema"
        },
        "checkout": {
          "type": "string",
          "description": "Path to checkout page schema"
        },
        "landing": {
          "type": "string",
          "description": "Path to landing page schema"
        }
      },
      "additionalProperties": {
        "type": "string"
      },
      "description": "Page schema file paths"
    },
    "design_tokens": {
      "type": "string",
      "description": "Path to design tokens file (colors, fonts, spacing)"
    },
    "preview_image": {
      "type": "string",
      "pattern": "^.+\\.(png|jpg|jpeg|webp)$",
      "description": "Theme preview image filename"
    },
    "screenshots": {
      "type": "array",
      "items": {
        "type": "string",
        "pattern": "^.+\\.(png|jpg|jpeg|webp)$"
      },
      "maxItems": 10,
      "description": "Screenshot filenames for theme showcase"
    },
    "demo_url": {
      "type": "string",
      "format": "uri",
      "description": "URL to live demo of theme"
    },
    "documentation_url": {
      "type": "string",
      "format": "uri",
      "description": "URL to theme documentation"
    },
    "support_url": {
      "type": "string",
      "format": "uri",
      "description": "URL for theme support"
    },
    "tags": {
      "type": "array",
      "maxItems": 10,
      "items": {
        "type": "string",
        "pattern": "^[a-z][a-z0-9-]*$",
        "maxLength": 30
      },
      "description": "Searchable tags for theme marketplace"
    },
    "categories": {
      "type": "array",
      "items": {
        "type": "string",
        "enum": [
          "fashion",
          "electronics",
          "home-garden",
          "sports",
          "beauty",
          "food-beverage",
          "books",
          "toys",
          "jewelry",
          "automotive",
          "general"
        ]
      },
      "description": "Theme categories for marketplace organization"
    },
    "color_schemes": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["name", "colors"],
        "properties": {
          "name": {
            "type": "string",
            "description": "Color scheme name (e.g., 'Light', 'Dark')"
          },
          "colors": {
            "type": "object",
            "properties": {
              "primary": {
                "type": "string",
                "pattern": "^#[0-9A-Fa-f]{6}$"
              },
              "secondary": {
                "type": "string",
                "pattern": "^#[0-9A-Fa-f]{6}$"
              },
              "accent": {
                "type": "string",
                "pattern": "^#[0-9A-Fa-f]{6}$"
              },
              "background": {
                "type": "string",
                "pattern": "^#[0-9A-Fa-f]{6}$"
              },
              "text": {
                "type": "string",
                "pattern": "^#[0-9A-Fa-f]{6}$"
              }
            }
          }
        }
      },
      "description": "Pre-defined color schemes for theme"
    },
    "features": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of theme features for marketing"
    },
    "min_platform_version": {
      "type": "string",
      "pattern": "^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)$",
      "description": "Minimum platform version required"
    },
    "max_platform_version": {
      "type": "string",
      "pattern": "^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)$",
      "description": "Maximum platform version supported"
    },
    "changelog": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["version", "date", "changes"],
        "properties": {
          "version": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)$"
          },
          "date": {
            "type": "string",
            "pattern": "^\\d{4}-\\d{2}-\\d{2}$"
          },
          "changes": {
            "type": "array",
            "minItems": 1,
            "items": {
              "type": "string"
            }
          }
        }
      },
      "description": "Version history and changes"
    },
    "total_size_bytes": {
      "type": "integer",
      "description": "Total package size in bytes (added during packaging)"
    },
    "file_count": {
      "type": "integer",
      "description": "Total number of files (added during packaging)"
    },
    "checksum": {
      "type": "string",
      "pattern": "^sha256:[a-f0-9]{64}$",
      "description": "SHA256 checksum of package contents (added during packaging)"
    }
  },
  "additionalProperties": false
}
